<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TIGER CLUB</title>
  <meta name="description" content="Tiger Club Oficial - Jogos, Palpites e Suporte" />
  <meta name="keywords" content="tiger club, jogos, palpites, cassino, suporte" />
  <link rel="icon" href="icon.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
      background: #f4f6f8;
      height: 100vh;
      display: flex;
      flex-direction: column;
      color: #1a1a1a;
    }
    header {
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px 0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
    }
    header img {
      height: 34px;
      margin-right: 8px;
    }
    header h1 {
      font-size: 18px;
      margin: 0;
      font-weight: 700;
      color: #1a1a1a;
    }
    #main-content {
      flex: 1;
      overflow-y: auto;
      padding-bottom: 50px;
    }
    #jogar, #palpites {
      width: 100%;
      height: 100%;
    }
    iframe {
      width: 100%;
      height: calc(100vh - 100px);
      border: none;
    }
    #palpites {
      display: none;
      padding: 20px;
      background: #ffffff;
      border-radius: 12px;
      margin: 12px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    footer {
      background: #ffffff;
      display: flex;
      justify-content: space-around;
      padding: 8px 0;
      border-top: 1px solid #e0e0e0;
      position: fixed;
      bottom: 0;
      width: 100%;
      box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.08);
    }
    footer button {
      background: none;
      border: none;
      font-size: 13px;
      cursor: pointer;
      color: #444;
      font-weight: 500;
      transition: color 0.2s;
    }
    footer button:hover, footer button:active {
      color: #222;
    }
    select, button {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      background: #f9fafb;
      font-size: 14px;
      width: 100%;
      margin: 10px 0;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    select:focus, button:focus {
      border-color: #f59e0b;
      box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
      outline: none;
    }
    button {
      background: #f59e0b;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: background 0.2s;
    }
    button:hover {
      background: #d97706;
    }
    button.green {
      background: #10b981;
    }
    button.green:hover {
      background: #059669;
    }
    button:disabled {
      background: #d1d5db;
      cursor: not-allowed;
    }
    label {
      font-size: 14px;
      font-weight: 500;
      color: #374151;
      margin-bottom: 6px;
      display: block;
    }
    .section {
      margin-bottom: 20px;
      padding: 15px;
      background: #f9fafb;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    }
    .palpite-result, .puxadas {
      margin: 15px 0;
      padding: 15px;
      background: #f9fafb;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    }
    .milhares {
      margin-bottom: 10px;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    #puxada-img {
      margin-top: 15px;
      width: 100%;
      max-height: 120px;
      object-fit: contain;
      border-radius: 8px;
    }
    h2 {
      color: #f59e0b;
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 12px;
    }
    h3 {
      color: #374151;
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 10px;
    }
    ul {
      list-style: disc;
      padding-left: 20px;
      margin: 0;
      font-size: 14px;
    }
    li {
      margin-bottom: 8px;
    }
    .hidden {
      display: none;
    }
    .error {
      color: #ef4444;
      font-size: 14px;
      margin: 10px 0;
    }
    .loading {
      font-size: 14px;
      color: #374151;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <header>
    <img src="icon.png" alt="Icon" onerror="this.src='https://via.placeholder.com/34';" />
    <h1>TIGER CLUB OFICIAL</h1>
  </header>

  <div id="main-content">
    <div id="jogar">
      <iframe src="https://app.tigersclub.vip/pr/hOprBfRL" loading="lazy"></iframe>
    </div>
    <div id="palpites">
      <div class="section">
        <h2>Gerar Palpites</h2>
        <label for="bancaSelect">Escolha a Banca:</label>
        <select id="bancaSelect">
          <option value="">Selecione uma banca</option>
          <option value="PT Rio">PT Rio</option>
          <option value="Look GO">Look GO</option>
          <option value="Nacional">Nacional</option>
          <option value="Maluca BA">Maluca BA</option>
          <option value="Lotep">Lotep</option>
        </select>
        <button id="gerarPalpites" disabled>Gerar Palpites</button>
        <div class="palpite-result" id="palpites"></div>
      </div>

      <div class="section">
        <h2>Consultar Puxadas</h2>
        <label for="animalSelect">Escolha um Animal:</label>
        <select id="animalSelect">
          <option value="">Selecione um animal</option>
        </select>
        <button id="verPuxada" class="hidden">Ver Puxadas</button>
        <div class="puxadas" id="puxadaResult"></div>
      </div>
      <img src="pa.png" id="puxada-img" alt="Puxada" onerror="this.src='https://via.placeholder.com/120';" />
    </div>
  </div>

  <footer>
    <button onclick="window.open('https://wa.me/5583991177252?text=Suporte%2C+preciso+de+ajuda', '_blank')">Fale com o Suporte</button>
    <button onclick="window.open('https://app.tigersclub.vip/pr/hOprBfRL', '_blank')">Cassino</button>
    <button onclick="mostrar('jogar')">Jogar</button>
    <button onclick="mostrar('palpites')">Palpites</button>
  </footer>

  <script>
    const animals = [
      { name: 'Avestruz', emoji: 'ü¶¢', group: 1, tens: ['01', '02', '03', '04'] },
      { name: '√Åguia', emoji: 'ü¶Ö', group: 2, tens: ['05', '06', '07', '08'] },
      { name: 'Burro', emoji: 'ü¶ô', group: 3, tens: ['09', '10', '11', '12'] },
      { name: 'Borboleta', emoji: 'ü¶ã', group: 4, tens: ['13', '14', '15', '16'] },
      { name: 'Cachorro', emoji: 'üê∂', group: 5, tens: ['17', '18', '19', '20'] },
      { name: 'Cabra', emoji: 'üêê', group: 6, tens: ['21', '22', '23', '24'] },
      { name: 'Carneiro', emoji: 'üêè', group: 7, tens: ['25', '26', '27', '28'] },
      { name: 'Camelo', emoji: 'üê™', group: 8, tens: ['29', '30', '31', '32'] },
      { name: 'Cobra', emoji: 'üêç', group: 9, tens: ['33', '34', '35', '36'] },
      { name: 'Coelho', emoji: 'üê∞', group: 10, tens: ['37', '38', '39', '40'] },
      { name: 'Cavalo', emoji: 'üêé', group: 11, tens: ['41', '42', '43', '44'] },
      { name: 'Elefante', emoji: 'üêò', group: 12, tens: ['45', '46', '47', '48'] },
      { name: 'Galo', emoji: 'üêì', group: 13, tens: ['49', '50', '51', '52'] },
      { name: 'Gato', emoji: 'üê±', group: 14, tens: ['53', '54', '55', '56'] },
      { name: 'Jacar√©', emoji: 'üêä', group: 15, tens: ['57', '58', '59', '60'] },
      { name: 'Le√£o', emoji: 'ü¶Å', group: 16, tens: ['61', '62', '63', '64'] },
      { name: 'Macaco', emoji: 'üêí', group: 17, tens: ['65', '66', '67', '68'] },
      { name: 'Porco', emoji: 'üê∑', group: 18, tens: ['69', '70', '71', '72'] },
      { name: 'Pav√£o', emoji: 'ü¶ö', group: 19, tens: ['73', '74', '75', '76'] },
      { name: 'Peru', emoji: 'ü¶É', group: 20, tens: ['77', '78', '79', '80'] },
      { name: 'Touro', emoji: 'üêÇ', group: 21, tens: ['81', '82', '83', '84'] },
      { name: 'Tigre', emoji: 'üêÖ', group: 22, tens: ['85', '86', '87', '88'] },
      { name: 'Urso', emoji: 'üêª', group: 23, tens: ['89', '90', '91', '92'] },
      { name: 'Veado', emoji: 'ü¶å', group: 24, tens: ['93', '94', '95', '96'] },
      { name: 'Vaca', emoji: 'üêÑ', group: 25, tens: ['97', '98', '99', '00'] }
    ];

    const bancas = {
      'PT Rio': {
        schedules: {
          'Domingo': ['09:30', '11:30', '14:30', '16:30'],
          'Segunda': ['09:30', '11:30', '14:30', '16:30', '18:30', '21:30'],
          'Ter√ßa': ['09:30', '11:30', '14:30', '16:30', '18:30', '21:30'],
          'Quarta': ['09:30', '11:30', '14:30', '16:30', '19:00', '21:30'],
          'Quinta': ['09:30', '11:30', '14:30', '16:30', '18:30', '21:30'],
          'Sexta': ['09:30', '11:30', '14:30', '16:30', '18:30', '21:30'],
          'S√°bado': ['09:30', '11:30', '14:30', '16:30', '19:00', '21:30']
        }
      },
      'Look GO': {
        schedules: {
          'Domingo': ['09:00', '11:00', '14:00', '16:00', '18:00', '21:00'],
          'Segunda': ['09:00', '11:00', '14:00', '16:00', '18:00', '21:00'],
          'Ter√ßa': ['09:00', '11:00', '14:00', '16:00', '18:00', '21:00'],
          'Quarta': ['09:00', '11:00', '14:00', '16:00', '18:00', '19:00', '21:00'],
          'Quinta': ['09:00', '11:00', '14:00', '16:00', '18:00', '21:00'],
          'Sexta': ['09:00', '11:00', '14:00', '16:00', '18:00', '21:00'],
          'S√°bado': ['09:00', '11:00', '14:00', '16:00', '18:00', '19:00', '21:00']
        }
      },
      'Nacional': {
        schedules: {
          'Domingo': ['02:00', '08:00', '10:00', '12:00', '15:00', '17:00', '20:00', '23:00'],
          'Segunda': ['02:00', '08:00', '10:00', '12:00', '15:00', '17:00', '20:00', '23:00'],
          'Ter√ßa': ['02:00', '08:00', '10:00', '12:00', '15:00', '17:00', '20:00', '23:00'],
          'Quarta': ['02:00', '08:00', '10:00', '12:00', '15:00', '17:00', '20:00', '23:00'],
          'Quinta': ['02:00', '08:00', '10:00', '12:00', '15:00', '17:00', '20:00', '23:00'],
          'Sexta': ['02:00', '08:00', '10:00', '12:00', '15:00', '17:00', '20:00', '23:00'],
          'S√°bado': ['02:00', '08:00', '10:00', '12:00', '15:00', '17:00', '20:00', '23:00']
        }
      },
      'Maluca BA': {
        schedules: {
          'Domingo': ['10:00', '12:00', '15:00'],
          'Segunda': ['10:00', '12:00', '15:00', '19:00', '21:00'],
          'Ter√ßa': ['10:00', '12:00', '15:00', '19:00', '21:00'],
          'Quarta': ['10:00', '12:00', '15:00', '19:00', '21:00'],
          'Quinta': ['10:00', '12:00', '15:00', '19:00', '21:00'],
          'Sexta': ['10:00', '12:00', '15:00', '19:00', '21:00'],
          'S√°bado': ['10:00', '12:00', '15:00', '19:00', '21:00']
        }
      },
      'Lotep': {
        schedules: {
          'Domingo': ['10:45', '12:45'],
          'Segunda': ['10:45', '12:45', '15:45', '18:00'],
          'Ter√ßa': ['10:45', '12:45', '15:45', '18:00'],
          'Quarta': ['10:45', '12:45', '15:45', '18:00', '19:00'],
          'Quinta': ['10:45', '12:45', '15:45', '18:00'],
          'Sexta': ['10:45', '12:45', '15:45', '18:00'],
          'S√°bado': ['10:45', '12:45', '15:45', '18:00', '19:00']
        }
      }
    };

    const puxadas = {
      'Avestruz': ['Pav√£o', '√Åguia', 'Galo'],
      '√Åguia': ['Avestruz', 'Galo', 'Pav√£o'],
      'Burro': ['Cavalo', 'Vaca', 'Touro'],
      'Borboleta': ['Gato', 'Cobra', 'Coelho'],
      'Cachorro': ['Galo', 'Camelo', 'Macaco'],
      'Cabra': ['Vaca', 'Carneiro', 'Touro'],
      'Carneiro': ['Cabra', 'Vaca', 'Touro'],
      'Camelo': ['Cachorro', 'Urso', 'Avestruz'],
      'Cobra': ['Borboleta', 'Jacar√©', 'Gato'],
      'Coelho': ['Borboleta', 'Gato', 'Cobra'],
      'Cavalo': ['Burro', 'Vaca', 'Carneiro'],
      'Elefante': ['Urso', 'Touro', 'Le√£o'],
      'Galo': ['Avestruz', '√Åguia', 'Pav√£o'],
      'Gato': ['Borboleta', 'Cobra', 'Coelho'],
      'Jacar√©': ['Cobra', 'Porco', 'Borboleta'],
      'Le√£o': ['Elefante', 'Tigre', 'Urso'],
      'Macaco': ['Cachorro', 'Gato', 'Le√£o'],
      'Porco': ['Jacar√©', 'Vaca', 'Cabra'],
      'Pav√£o': ['Avestruz', 'Galo', '√Åguia'],
      'Peru': ['Galo', 'Pav√£o', 'Avestruz'],
      'Touro': ['Carneiro', 'Vaca', 'Cabra'],
      'Tigre': ['Le√£o', 'Porco', 'Elefante'],
      'Urso': ['Camelo', 'Elefante', 'Le√£o'],
      'Veado': ['Coelho', 'Borboleta', 'Gato'],
      'Vaca': ['Cabra', 'Carneiro', 'Touro']
    };

    function mostrar(id) {
      try {
        const jogar = document.getElementById('jogar');
        const palpites = document.getElementById('palpites');
        if (!jogar || !palpites) {
          throw new Error('Elementos jogar ou palpites n√£o encontrados');
        }
        jogar.style.display = id === 'jogar' ? 'block' : 'none';
        palpites.style.display = id === 'palpites' ? 'block' : 'none';
        if (id === 'palpites') {
          const animalSelect = document.getElementById('animalSelect');
          if (animalSelect) {
            populateAnimalSelect();
          } else {
            console.error('animalSelect n√£o encontrado');
            document.getElementById('palpites').innerHTML = '<p class="error">Erro ao carregar a se√ß√£o. Contate o suporte: <a href="https://wa.me/5583991177252">WhatsApp</a></p>';
          }
        }
      } catch (e) {
        console.error('Erro na fun√ß√£o mostrar:', e);
        document.getElementById('palpites').innerHTML = '<p class="error">Erro ao carregar a se√ß√£o. Contate o suporte: <a href="https://wa.me/5583991177252">WhatsApp</a></p>';
      }
    }

    function generateMilhar() {
      return Math.floor(Math.random() * 10000).toString().padStart(4, '0');
    }

    function getAnimalByMilhar(milhar) {
      const tens = milhar.slice(-2);
      return animals.find(animal => animal.tens.includes(tens)) || animals[0];
    }

    function getNextDrawTime(banca, now) {
      try {
        if (!bancas[banca]) {
          console.warn(`Banca inv√°lida: ${banca}`);
          return null;
        }
        const days = ['Domingo', 'Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado'];
        const today = days[now.getDay()];
        const schedules = bancas[banca].schedules[today];
        if (!schedules) {
          console.warn(`Nenhum hor√°rio encontrado para ${banca} em ${today}`);
          return null;
        }

        const nowTime = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
        const nextTime = schedules.find(time => time > nowTime) || schedules[0];
        let nextDate = new Date(now);

        if (!schedules.find(time => time > nowTime)) {
          nextDate.setDate(now.getDate() + 1);
        }

        const [hours, minutes] = nextTime.split(':');
        nextDate.setHours(parseInt(hours), parseInt(minutes), 0, 0);
        return { time: nextTime, date: nextDate };
      } catch (e) {
        console.error('Erro na fun√ß√£o getNextDrawTime:', e);
        return null;
      }
    }

    function generatePalpites(banca, drawTime) {
      try {
        const key = `palpites_${banca}_${drawTime}`;
        const stored = localStorage.getItem(key);
        if (stored) return JSON.parse(stored);

        const palpites = [];
        for (let i = 0; i < 10; i++) {
          const milhar = generateMilhar();
          const animal = getAnimalByMilhar(milhar);
          palpites.push({ milhar, animal: `${animal.emoji} ${animal.name}` });
        }

        localStorage.setItem(key, JSON.stringify(palpites));
        return palpites;
      } catch (e) {
        console.error('Erro na fun√ß√£o generatePalpites:', e);
        return [];
      }
    }

    function clearExpiredPalpites() {
      try {
        Object.keys(localStorage).forEach(key => {
          if (key.startsWith('palpites_')) {
            const [, banca, time] = key.split('_');
            const now = new Date();
            const nextDraw = getNextDrawTime(banca, now);
            if (nextDraw && new Date(nextDraw.date) < now) {
              localStorage.removeItem(key);
            }
          }
        });
      } catch (e) {
        console.error('Erro na fun√ß√£o clearExpiredPalpites:', e);
      }
    }

    function shareOnWhatsApp(banca, drawTime, palpites) {
      try {
        const message = `Palpites para ${banca} - ${drawTime}:\n${palpites.map(p => `${p.milhar} - ${p.animal}`).join('\n')}\n\nJOGUE AGORA PELAS BANCAS:\nFeiticeira VIP: https://feiticeiravip.club/\n√Åguia Oficial: https://aguiaoficial.club/\nLoto Cowboy: https://app.sistemabarao.com.br/loto-cowboy?p=SPMqwc1N\nTroia Online: https://app.troiaonline.vip/pr/HTWzNhJP\nEntre no meu grupo: https://chat.whatsapp.com/L4tf40onhBy1riWW8pqkw4`;
        const encodedMessage = encodeURIComponent(message);
        window.open(`https://api.whatsapp.com/send?text=${encodedMessage}`, '_blank');
      } catch (e) {
        console.error('Erro na fun√ß√£o shareOnWhatsApp:', e);
      }
    }

    function displayPalpites() {
      try {
        const bancaSelect = document.getElementById('bancaSelect');
        const palpitesDiv = document.getElementById('palpites');
        const gerarPalpitesBtn = document.getElementById('gerarPalpites');
        palpitesDiv.innerHTML = '<p class="loading">Carregando palpites...</p>';
        clearExpiredPalpites();

        const selectedBanca = bancaSelect.value;
        if (!selectedBanca) {
          palpitesDiv.innerHTML = '<p class="error">Por favor, selecione uma banca e clique em "Gerar Palpites".</p>';
          gerarPalpitesBtn.disabled = true;
          return;
        }

        gerarPalpitesBtn.disabled = false;
        const now = new Date();
        const nextDraw = getNextDrawTime(selectedBanca, now);
        if (!nextDraw) {
          palpitesDiv.innerHTML = '<p class="error">Nenhum hor√°rio dispon√≠vel para hoje.</p>';
          return;
        }

        const palpites = generatePalpites(selectedBanca, nextDraw.time);
        if (palpites.length === 0) {
          palpitesDiv.innerHTML = '<p class="error">Erro ao gerar palpites. Tente novamente.</p>';
          return;
        }

        palpitesDiv.innerHTML = `
          <div>
            <h3>${selectedBanca} - ${nextDraw.time}</h3>
            <ul class="mt-3 list-disc pl-5">
              ${palpites.map(p => `<li class="milhares">${p.milhar} - ${p.animal}</li>`).join('')}
            </ul>
            <button id="shareWhatsApp" class="mt-4 green">Compartilhar no WhatsApp</button>
          </div>
        `;

        document.getElementById('shareWhatsApp').addEventListener('click', () => {
          shareOnWhatsApp(selectedBanca, nextDraw.time, palpites);
        });
      } catch (e) {
        console.error('Erro na fun√ß√£o displayPalpites:', e);
        document.getElementById('palpites').innerHTML = '<p class="error">Erro ao carregar os palpites. Contate o suporte: <a href="https://wa.me/5583991177252">WhatsApp</a></p>';
      }
    }

    function populateAnimalSelect() {
      try {
        const select = document.getElementById('animalSelect');
        if (!select) {
          throw new Error('Elemento animalSelect n√£o encontrado');
        }
        select.innerHTML = '<option value="">Selecione um animal</option>';
        animals.forEach(animal => {
          const option = document.createElement('option');
          option.value = animal.name;
          option.textContent = `${animal.emoji} ${animal.name}`;
          select.appendChild(option);
        });
      } catch (e) {
        console.error('Erro na fun√ß√£o populateAnimalSelect:', e);
        document.getElementById('puxadaResult').innerHTML = '<p class="error">Erro ao carregar os animais. Contate o suporte: <a href="https://wa.me/5583991177252">WhatsApp</a></p>';
      }
    }

    function handlePuxada() {
      try {
        const select = document.getElementById('animalSelect');
        const verPuxada = document.getElementById('verPuxada');
        const puxadaResult = document.getElementById('puxadaResult');

        if (!select || !verPuxada || !puxadaResult) {
          throw new Error('Elementos de puxada n√£o encontrados');
        }

        select.addEventListener('change', () => {
          verPuxada.classList.toggle('hidden', !select.value);
          puxadaResult.innerHTML = '';
        });

        verPuxada.addEventListener('click', () => {
          const animal = select.value;
          if (!animal) {
            puxadaResult.innerHTML = '[Erro ao carregar a se√ß√£o. Contate o suporte: <a href="https://wa.me/5583991177252">WhatsApp</a></p>';
            return;
          }

          const pulls = puxadas[animal] || [];
          puxadaResult.innerHTML = `
            <div>
              <h3>Puxadas para ${animal}</h3>
              <ul class="list-disc pl-5 mt-2">
                ${pulls.length ? pulls.map(pull => `<li>${animals.find(a => a.name === pull).emoji} ${pull}</li>`).join('') : '<li>Nenhuma puxada dispon√≠vel.</li>'}
              </ul>
            </div>
          `;
        });
      } catch (e) {
        console.error('Erro na fun√ß√£o handlePuxada:', e);
        document.getElementById('puxadaResult').innerHTML = '<p class="error">Erro ao carregar as puxadas. Contate o suporte: <a href="https://wa.me/5583991177252">WhatsApp</a></p>';
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      try {
        const bancaSelect = document.getElementById('bancaSelect');
        const gerarPalpitesBtn = document.getElementById('gerarPalpites');
        if (!bancaSelect || !gerarPalpitesBtn) {
          console.error('Elementos bancaSelect ou gerarPalpitesBtn n√£o encontrados');
          return;
        }

        handlePuxada();
        bancaSelect.addEventListener('change', () => {
          document.getElementById('palpites').innerHTML = '';
          gerarPalpitesBtn.disabled = !bancaSelect.value;
        });
        gerarPalpitesBtn.addEventListener('click', displayPalpites);

        setInterval(() => {
          if (document.getElementById('palpites').style.display === 'block' && bancaSelect.value) {
            clearExpiredPalpites();
            displayPalpites();
          }
        }, 60000);

        mostrar('jogar');
      } catch (e) {
        console.error('Erro na inicializa√ß√£o:', e);
      }
    });
  </script>
</body>
</html>
